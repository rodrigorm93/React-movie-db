(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{166:function(e,t,a){e.exports=a(279)},171:function(e,t,a){},176:function(e,t,a){},194:function(e,t,a){},228:function(e,t,a){},235:function(e,t,a){},242:function(e,t,a){},262:function(e,t,a){},269:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(6),r=a.n(l),o=a(9),i=a(283),u="https://api.themoviedb.org/3",m="0833fefae38662aa3688515b756c9a47",s="https://image.tmdb.org/t/p/original",p=function(e){var t=Object(n.useRef)(!0),a=Object(n.useState)({data:null,loading:!0,error:null}),c=Object(o.a)(a,2),l=c[0],r=c[1];return Object(n.useEffect)((function(){r({data:null,loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){t.current?r({loading:!1,error:!1,data:e}):console.log("Setstate no se llamo")})).catch((function(){r({loading:!1,error:"No se pudo cargar la info",data:null})}))}),[e]),l},E=a(25),g=a(23),d=Object(n.createContext)(),v="[auth] login",b="[auth] logout",f=function(e){var t=e.history,a=Object(n.useContext)(d).dispatch;return c.a.createElement("div",null,c.a.createElement("h1",null,"Login"),c.a.createElement("hr",null),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){a({type:v,payload:{name:"Rodrigo"}}),t.replace("/")}},"Login"))},h=a(290),y=(a(171),function(e){var t=e.results;return c.a.createElement(h.a,{className:"carousels-app"},t.map((function(e){return c.a.createElement(h.a.Item,{key:e.id},c.a.createElement("img",{className:"d-block w-100",src:"".concat(s).concat(e.backdrop_path),alt:e.id}),c.a.createElement(h.a.Caption,null,c.a.createElement("h3",null,e.title),c.a.createElement("p",null,e.overview),c.a.createElement(E.b,{to:"./movieTv/".concat(e.id)},c.a.createElement("h4",{className:"link-description"},"Descripci\xf3n"))))})))}),O=a(281),j=a(79),k=a(46),_=(a(176),a(284)),x=a(59),S=a(286),C=a(288),N=a(137),T=a.n(N);a(194);function w(e){var t=e.videoKey,a=e.isOpen,l=e.close,r=Object(n.useState)(null),i=Object(o.a)(r,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){m("https://youtu.be/".concat(t))}),[t]),c.a.createElement(C.a,{className:"modal-video",visible:a,centered:!0,onCancel:l,footer:!1},c.a.createElement(T.a,{url:u,playing:a,controls:a}))}var I=a(292),R=function(e){var t=e.isOpen,a=e.close,n=e.url,l=p(n),r=l.data,o=l.loading,i=(!!r&&r).results;return c.a.createElement("div",null,o?c.a.createElement("div",null):c.a.createElement("div",null,function(e,t,a){if(e)return e.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(w,{videoKey:e[0].key,videoPlatform:e[0].site,isOpen:t,close:a})):c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{centered:!0,visible:t,onCancel:a,onOk:a},c.a.createElement(I.a,{variant:"danger"},"Trailer no Disponible")))}(i,t,a)))},V=(a(228),function(e){var t=e.modalOverview,a=e.isCloseModalOverview,n=e.infoMovie;return c.a.createElement(C.a,{className:"modal-over",visible:t,centered:!0,onCancel:a,footer:!1},c.a.createElement("h3",null,null===n||void 0===n?void 0:n.title),c.a.createElement("h3",null,null===n||void 0===n?void 0:n.name),c.a.createElement("p",null,n.overview))}),F=_.a.Meta,P=function(e){var t=e.lists,a=e.setKeyVideo,l=e.url,r=e.category,i=Object(n.useState)(!1),u=Object(o.a)(i,2),m=u[0],p=u[1],g=Object(n.useState)(!1),d=Object(o.a)(g,2),v=d[0],b=d[1],f=Object(n.useState)({title:"",overview:""}),h=Object(o.a)(f,2),y=h[0],O=h[1],j=function(e,t){O({title:e,overview:t}),p(!0)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{className:"card-list animate__animated animate__fadeIn",hoverable:!0,style:{width:300},cover:c.a.createElement("img",{alt:"example",src:"".concat(s).concat(t.backdrop_path),onClick:function(){return e=t.id,a(e),void b(!0);var e}})},t.title?c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{title:t.title,description:t.overview.substring(0,50)+"..."}),r?c.a.createElement(E.b,{to:"./movieTv/".concat(t.id)},"M\xe1s..."):c.a.createElement("div",null),c.a.createElement("br",null),c.a.createElement("center",null,c.a.createElement(x.a,{onClick:function(){return j(t.title,t.overview)},className:"text-center",variant:"light"},"Overview"))):c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{title:t.name,description:t.overview.substring(0,150)+"..."}),c.a.createElement("br",null),c.a.createElement("center",null,c.a.createElement(x.a,{onClick:function(){return j(t.name,t.overview)},className:"text-center",variant:"light"},"Overview"))),c.a.createElement("hr",null),c.a.createElement("p",{className:"text-center"},t.release_date),c.a.createElement(S.a,{allowHalf:!0,defaultValue:t.vote_average,count:10,disabled:!0})),c.a.createElement(V,{modalOverview:m,isCloseModalOverview:function(){p(!1)},infoMovie:y}),c.a.createElement(R,{isOpen:v,close:function(){return b(!1)},url:l}))},M=function(e){var t=e.list,a=e.url,n=e.setKeyVideo,l=e.category;return c.a.createElement("div",{className:"box-card-list"},c.a.createElement(j.a,null,t.map((function(e){return c.a.createElement(k.a,{span:6,key:e.id,className:"card-list-colum"},c.a.createElement(P,{lists:e,setKeyVideo:n,url:a,category:l}))}))))},K=(a(80),function(e){e.category;var t=Object(n.useContext)(d).pageTopRated,a=Object(n.useState)("55"),l=Object(o.a)(a,2),r=l[0],i=l[1],s="".concat(u,"/movie/now_playing?api_key=").concat(m,"&language=es-ES&page=1"),E=p(s),g=E.data,v=E.loading,b=(!!g&&g).results,f="".concat(u,"/movie/top_rated?api_key=").concat(m,"&language=es-Es&page=").concat(t),h=p(f),j=h.data,k=h.loading,_=(!!j&&j).results,x="".concat(u,"/movie/").concat(r,"/videos?api_key=").concat(m,"&language=en-US");return c.a.createElement(c.a.Fragment,null,v?c.a.createElement("h1",null,"loafding"):c.a.createElement(y,{results:b}),k?c.a.createElement(O.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-center"},"Top Rated"),c.a.createElement("br",null),c.a.createElement(M,{list:_,url:x,setKeyVideo:i,category:"movie"})))}),L=function(e){e.category;var t=Object(n.useContext)(d).pageTopRated,a=Object(n.useState)("55"),l=Object(o.a)(a,2),r=l[0],i=l[1],s="".concat(u,"/movie/upcoming?api_key=").concat(m,"&language=es-ES&page=").concat(t),E=p(s),g=E.data,v=E.loading,b=(!!g&&g).results,f="".concat(u,"/movie/").concat(r,"/videos?api_key=").concat(m,"&language=en-US");return c.a.createElement("div",null,v?c.a.createElement(O.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-center"},"upcoming"),c.a.createElement("br",null),c.a.createElement(M,{list:b,url:f,setKeyVideo:i,category:"movie"})))},A=function(e){var t=e.category,a=Object(n.useContext)(d).pageTopRated,l=Object(n.useState)("55"),r=Object(o.a)(l,2),i=r[0],s=r[1],E="".concat(u,"/tv/top_rated?api_key=").concat(m,"&language=es-ES&page=").concat(a),g="".concat(u,"/tv/").concat(i,"/videos?api_key=").concat(m,"&language=en-US"),v=p(E),b=v.data,f=v.loading,h=(!!b&&b).results;return c.a.createElement("div",null,f?c.a.createElement(O.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-center"},"Top rated"),c.a.createElement(M,{list:h,url:g,setKeyVideo:s,category:t})))},q=function(){var e=Object(n.useContext)(d).pageTopRated,t=Object(n.useState)("55"),a=Object(o.a)(t,2),l=a[0],r=a[1],i="".concat(u,"/tv/").concat(l,"/videos?api_key=").concat(m,"&language=en-US"),s="".concat(u,"/tv/popular?api_key=").concat(m,"&language=es-ES&page=").concat(e),E=p(s),g=E.data,v=E.loading,b=(!!g&&g).results;return c.a.createElement("div",null,v?c.a.createElement(O.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-center"},"popular"),c.a.createElement(M,{list:b,url:i,setKeyVideo:r})))},U=function(e){e.category;var t=Object(n.useState)("55"),a=Object(o.a)(t,2),l=a[0],r=a[1],i=Object(n.useContext)(d).pageTopRated,s="".concat(u,"/movie/").concat(l,"/videos?api_key=").concat(m,"&language=en-US"),E="".concat(u,"/movie/popular?api_key=").concat(m,"&language=es-ES&page=").concat(i),g=p(E),v=g.data,b=g.loading,f=(!!v&&v).results;return c.a.createElement("div",null,b?c.a.createElement(O.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-center"},"popular"),c.a.createElement(M,{list:f,url:s,setKeyVideo:r,category:"movie"})))},B=a(291),D=a(294),J=a(295),z=a(296),H=a(297),G=(a(235),B.a.SubMenu),Q=function(){var e=function(e){r(1),o(e)},t=Object(n.useContext)(d),a=t.user,l=t.dispatch,r=t.setPageTopRated,o=t.setpagination,i="".concat(u,"/movie/top_rated?api_key=").concat(m,"&language=es-Es&page=1"),s=p(i).data,v=(!!s&&s).total_pages,f="".concat(u,"/movie/upcoming?api_key=").concat(m,"&language=es-ES&page=1"),h=p(f).data,y=(!!h&&h).total_pages,O="".concat(u,"/tv/top_rated?api_key=").concat(m,"&language=es-ES&page=1"),j=p(O).data,k=(!!j&&j).total_pages,_="".concat(u,"/tv/popular?api_key=").concat(m,"&language=es-ES&page=1"),x=p(_).data,S=(!!x&&x).total_pages,C=Object(g.g)();return c.a.createElement("div",{className:"menu-top"},c.a.createElement("div",{className:"menu-top__logo"}),c.a.createElement(B.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},c.a.createElement(B.a.Item,{key:"app",icon:c.a.createElement(D.a,null)},c.a.createElement(E.b,{to:"/home",onClick:function(){return e(v)}},"MovieDB")),c.a.createElement(G,{icon:c.a.createElement(J.a,null),title:"Movie"},c.a.createElement(B.a.ItemGroup,{title:"Category"},c.a.createElement(B.a.Item,{key:"1",onClick:function(){return e(v)}},c.a.createElement(E.c,{exact:!0,activeClassName:"active",to:"/home"},"Top Rated")),c.a.createElement(B.a.Item,{key:"2",onClick:function(){return e(y)}},c.a.createElement(E.c,{exact:!0,activeClassName:"active",to:"/upcomingMovie"},"Upcoming")),c.a.createElement(B.a.Item,{key:"3",onClick:function(){return e(y)}},c.a.createElement(E.c,{exact:!0,activeClassName:"active",to:"/PopularMovie"},"Popular")))),c.a.createElement(G,{icon:c.a.createElement(J.a,null),title:"TV"},c.a.createElement(B.a.ItemGroup,{title:"Category"},c.a.createElement(B.a.Item,{key:"4",onClick:function(){return e(k)}},c.a.createElement(E.c,{exact:!0,activeClassName:"active",to:"/topRatedTV"},"Top Rated")),c.a.createElement(B.a.Item,{key:"5",onClick:function(){return e(S)}},c.a.createElement(E.c,{exact:!0,activeClassName:"active",to:"/popularTV"},"Popular")))),c.a.createElement(B.a.Item,{key:"search",icon:c.a.createElement(z.a,null)},c.a.createElement(E.b,{to:"/search"},"Search")),a.logged?c.a.createElement(G,{icon:c.a.createElement(J.a,null),title:a.name},c.a.createElement(B.a.Item,{key:"logout",icon:c.a.createElement(H.a,null)},c.a.createElement("button",{onClick:function(){C.replace("/"),l({type:b})}},"Logout")),c.a.createElement(B.a.Item,{key:"addPelicula",icon:c.a.createElement(H.a,null)},c.a.createElement(E.b,{to:"/addPelicula"},"Agregar Pelicula"))):c.a.createElement(B.a.Item,{key:"logout",icon:c.a.createElement(H.a,null)},c.a.createElement(E.b,{to:"/login"},"Login"))))},W=a(293),X=a(287),Y=a(298),Z=(a(242),function(){var e=Object(n.useContext)(d).setpagination,t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(!1),E=Object(o.a)(i,2),v=E[0],b=E[1],f=Object(g.h)().movieTvId,h="".concat(u,"/movie/").concat(f,"?api_key=").concat(m,"&language=es-ES"),y=p(h),j=y.data,k=y.loading,_=!!j&&j,S="".concat(u,"/movie/").concat(f,"/videos?api_key=").concat(m,"&language=en-US"),C="".concat(u,"/movie/").concat(f,"/videos?api_key=").concat(m,"&language=es-ES");return Object(n.useEffect)((function(){e(0)})),c.a.createElement("div",null,k?c.a.createElement(O.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{className:"bg-dark text-white animate__animated animate__pulse"},c.a.createElement(W.a.Img,{className:"img_poster",src:"".concat(s).concat(_.backdrop_path),alt:"Card image"}),c.a.createElement(W.a.ImgOverlay,null,c.a.createElement(W.a.Title,null,_.original_title),_.title&&c.a.createElement(W.a.Text,null,_.title),c.a.createElement(W.a.Text,null,_.overview),_.production_countries.length>0&&c.a.createElement(W.a.Text,null,"Producci\xf3n: ",_.production_countries[0].name),_.homepage&&c.a.createElement(W.a.Text,null,c.a.createElement("a",{href:_.homepage},"homepage")),c.a.createElement(X.a,{className:"text-color",strokeColor:{"0%":"#108ee9","100%":"#87d068"},width:80,type:"circle",percent:10*_.vote_average}),c.a.createElement(W.a.Text,null,c.a.createElement(x.a,{className:"btn_play",onClick:function(){return r(!0)},icon:c.a.createElement(Y.a,null)},"Ver Trailer"),c.a.createElement(x.a,{className:"btn_play",onClick:function(){return b(!0)},icon:c.a.createElement(Y.a,null)},"Ver Trailer (Espa\xf1ol)")))),c.a.createElement(R,{isOpen:l,close:function(){return r(!1)},url:S}),c.a.createElement(R,{isOpen:v,close:function(){return b(!1)},url:C})))}),$=a(116),ee=a.n($),te=a(148),ae=a(289),ne=a(117),ce=a.n(ne),le=a(97),re=a(77),oe=a(282),ie=(a(262),function(e){var t=e.location,a=e.history,l=Object(n.useContext)(d).setpagination,r=Object(n.useState)([]),i=Object(o.a)(r,2),s=i[0],p=i[1],E=Object(n.useState)(!1),g=Object(o.a)(E,2),v=g[0],b=g[1],f=ce.a.parse(t.search).q,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(o.a)(t,2),c=a[0],l=a[1],r=function(){l("")},i=function(e){var t=e.target;l(Object(re.a)(Object(re.a)({},c),{},Object(le.a)({},t.name,t.value)))};return[c,i,r]}({searchText:void 0===f?"":f}),y=Object(o.a)(h,3),O=y[0],_=y[1],x=y[2],S=Object(n.useState)("55"),C=Object(o.a)(S,2),N=C[0],T=C[1],w=O.searchText,I="".concat(u,"/movie/").concat(N,"/videos?api_key=").concat(m,"&language=en-US");Object(n.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){var a,n,c,l,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce.a.parse(t.search),n=a.q,c=void 0===n?"":n,e.next=3,fetch("".concat(u,"/search/movie/?api_key=").concat(m,"&language=es-Es&query=").concat(c,"&page=1"));case 3:return l=e.sent,e.next=6,l.json();case 6:r=e.sent,p(r.results),b(!1);case 9:case"end":return e.stop()}}),e)})))()}),[v]);return c.a.createElement(j.a,null,c.a.createElement(k.a,{span:9,offset:6,className:"search"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.push("?q=".concat(w)),x(),l(0),b(!0)}},c.a.createElement("h1",null,"Busca tu pel\xedcula"),c.a.createElement(ae.a,{type:"text",placeholder:"find",name:"searchText",autoComplete:"off",value:w,onChange:_}),c.a.createElement(oe.a,{type:"submit",variant:"light"},"Buscar"))),c.a.createElement(j.a,null,s&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-center"},"Resultados:"),c.a.createElement("br",null),c.a.createElement(M,{list:s,url:I,setKeyVideo:T,category:"movie"}))))}),ue=function(){var e=i.a.Header;return c.a.createElement(c.a.Fragment,null,c.a.createElement(e,{style:{zIndex:1}},c.a.createElement(Q,null)),c.a.createElement("div",null,c.a.createElement(g.d,null,c.a.createElement(g.b,{exact:!0,path:"/home",component:K}),c.a.createElement(g.b,{exact:!0,path:"/movieTv/:movieTvId",component:Z}),c.a.createElement(g.b,{exact:!0,path:"/search",component:ie}),c.a.createElement(g.b,{exact:!0,path:"/upcomingMovie",component:L}),c.a.createElement(g.b,{exact:!0,path:"/topRatedTV",component:A}),c.a.createElement(g.b,{exact:!0,path:"/PopularMovie",component:U}),c.a.createElement(g.b,{exact:!0,path:"/popularTV",component:q}),c.a.createElement(g.a,{to:"/home"}))))},me=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Ingrear Peliculas"))},se=a(98),pe=a(7),Ee=a.n(pe),ge=function(e){var t=e.isAuthenticate,a=e.component,n=Object(se.a)(e,["isAuthenticate","component"]);return c.a.createElement(g.b,Object.assign({},n,{component:function(e){return t?c.a.createElement(a,e):c.a.createElement(g.a,{to:"/login"})}}))};ge.prototype={isAuthenticate:Ee.a.bool.isRequired,component:Ee.a.func.isRequired};var de=function(e){var t=e.isAuthenticate,a=e.component,n=Object(se.a)(e,["isAuthenticate","component"]);return c.a.createElement(g.b,Object.assign({},n,{component:function(e){return t?c.a.createElement(g.a,{to:"/"}):c.a.createElement(a,e)}}))};de.prototype={isAuthenticate:Ee.a.bool.isRequired,component:Ee.a.func.isRequired};var ve=function(){var e=Object(n.useContext)(d).user;return c.a.createElement(E.a,null,c.a.createElement("div",null,c.a.createElement(g.d,null,c.a.createElement(de,{exact:!0,path:"/login",component:f,isAuthenticate:e.logged}),c.a.createElement(ge,{exact:!0,path:"/addPelicula",component:me,isAuthenticate:e.logged}),c.a.createElement(g.b,{path:"/",component:ue}))))},be=a(285),fe=(a(269),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(re.a)(Object(re.a)({},t.payload),{},{logged:!0});case b:return{logged:!1};default:return e}}),he=function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}};var ye=function(){var e=Object(n.useReducer)(fe,{},he),t=Object(o.a)(e,2),a=t[0],l=t[1],r=i.a.Content,s=i.a.Footer,E=Object(n.useState)(1),g=Object(o.a)(E,2),v=g[0],b=g[1],f="".concat(u,"/movie/top_rated?api_key=").concat(m,"&language=es-Es&page=1"),h=p(f).data,y=(!!h&&h).total_pages,O=Object(n.useState)(1),j=Object(o.a)(O,2),k=j[0],_=j[1];return Object(n.useEffect)((function(){_(y)}),[y]),Object(n.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a))}),[a]),c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement(r,null,c.a.createElement(d.Provider,{value:{pageTopRated:v,setPageTopRated:b,setpagination:_,user:a,dispatch:l}},c.a.createElement(ve,null)))),c.a.createElement(s,null,c.a.createElement(be.a,{onChange:function(e){b(e)},defaultCurrent:1,total:k,current:v,defaultPageSize:k,className:"footer"})))};a(276),a(277),a(278);r.a.render(c.a.createElement(ye,null),document.getElementById("root"))},80:function(e,t,a){}},[[166,1,2]]]);
//# sourceMappingURL=main.277ee04a.chunk.js.map